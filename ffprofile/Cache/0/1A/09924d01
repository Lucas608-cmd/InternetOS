if(typeof(JRJ)=="undefined"){var JRJ={}}if(typeof(JRJ.app)=="undefined"){JRJ.app={}}if(typeof(JrjHome)=="undefined"){var JrjHome={}}if(typeof(JrjHome.SSO)=="undefined"){JrjHome.SSO={}}if(typeof(JrjHome.Top)=="undefined"){JrjHome.Top={}}if(typeof(JrjHome.AguHq)=="undefined"){JrjHome.AguHq={}}var HOME_OPEN_ID="home_open";var FLOATAD_ID="floatad";var FLOATAD_SHOW=true;(function(){var hotstock={url:"http://web7.jrjimg.cn/inc/hotstock.js",id:"c_t4_1",col:["stkn","stkc","np","min","pl"],hqArray:null};JrjHome.AguHq.hotstock=function(){if(AguTop.open||AguTop.cache){data_post(hotstock.url,JrjHome.AguHq.updatehotstock,"hotstockid")}};JrjHome.AguHq.updatehotstock=function(data){try{var line;var data=eval("sflow");hotstock.hqArray=data.StockHq;if(hotstock.hqArray.length>=5){var t2=new StringBuffer();t2.append('<table class="tb1"><tr><th>\u80a1\u7968\u540d\u79f0</th><th>\u6700\u65b0\u4ef7</th><th>\u4e3b\u529b\u8d44\u91d1\u51c0\u6d41\u5165</th></tr>');for(var i=0,sn=0;i<hotstock.hqArray.length,sn<5;i++){line=hotstock.hqArray[i];if(line[hotstock.col[2]]!=0){var css_tr=(sn%2==1)?"ln":"";var css_td="red";if(sn%2==1){t2.append("<tr>")}else{t2.append('<tr class="ln">')}if(line[hotstock.col[4]]>0){css_td="red"}else{css_td="gre"}t2.append('<td class="tc"><a href="http://stock.jrj.com.cn/share,');t2.append(line[hotstock.col[1]]);t2.append(',flow.shtml">');t2.append(line[hotstock.col[0]]);t2.append("</a></td>");t2.append('<td class="tr '+css_td+'">'+line[hotstock.col[2]]+"</td>");t2.append('<td class="tr '+css_td+'">'+line[hotstock.col[3]]+"\u4e07\u5143</td>");t2.append("</tr>");sn++}}t2.append("</table>");fill(hotstock.id,t2.toString())}}catch(e){}};var qwin2={url:"http://web7.jrjimg.cn/inc/qwin2.js",id:"c_t4_2",col:["name","zpb","flow"],hqArray:null};JrjHome.AguHq.qwin2=function(){if(AguTop.open||AguTop.cache){data_post(qwin2.url,JrjHome.AguHq.updateqwin,"qwin2id")}};JrjHome.AguHq.updateqwin=function(){try{var line;var data=eval("qwinjs");qwin2.hqArray=data.StockHq;if(qwin2.hqArray.length>=5){var t2=new StringBuffer();t2.append('<table class="tb1"><tr><th>\u884c\u4e1a\u540d\u79f0</th><th>\u4e3b\u529b\u5360\u76d8\u6bd4</th><th>\u8d44\u91d1\u51c0\u6d41\u5165</th></tr>');for(var i=0,sn=0;i<qwin2.hqArray.length,sn<5;i++){line=qwin2.hqArray[i];if(line[qwin2.col[2]]!=0){var css_tr=(sn%2==1)?"ln":"";var css_td="red";if(sn%2==1){t2.append("<tr>")}else{t2.append('<tr class="ln">')}if(line[qwin2.col[2]]>0){css_td="red"}else{css_td="gre"}t2.append('<td class="tc">'+line[qwin2.col[0]]+"</a></td>");t2.append('<td class="tr '+css_td+'">'+line[qwin2.col[1]]+"</td>");t2.append('<td class="tr '+css_td+'">'+line[qwin2.col[2]]+"\u767e\u4e07\u5143</td>");t2.append("</tr>");sn++}}t2.append("</table>");fill(qwin2.id,t2.toString())}}catch(e){}};JrjHome.AguHq.init=function(){if(AguTop.open||AguTop.cache){window.setInterval("JrjHome.AguHq.hotstock()",60000);window.setInterval("JrjHome.AguHq.qwin2()",60000)}};var open_time="09:25";var close_time="15:00";var cache_time="16:30";var sh_top5="http://q.jrjimg.cn/?q=cn|s|sh,sa&n=hqa&c=m&o=pl,d&p=0005&ts=";var sz_top5="http://q.jrjimg.cn/?q=cn|s|sz,sa&n=hqa&c=m&o=pl,d&p=0005&ts=";var big_top5="http://hqquery.jrj.com.cn/bigq.do?q=a&size=20&allP=hq&page=1&d=";var radar_top5="http://data.share.jrj.com.cn/radar.do?size=5&page=1";var AguTop={url:sh_top5,id:"c_t5_1",open:true,cache:true,hqArray:null,columns:null,stockInfoUrl:"http://stock.jrj.com.cn/share,${code}.shtml",mingxiUrl:"http://stock.jrj.com.cn/share,${code},mingxi.shtml",flowUrl:"http://stock.jrj.com.cn/share,${code},flow.shtml"};JrjHome.Top.init=function(){JrjHome.Top.listen();if(AguTop.open||AguTop.cache){window.setInterval("JrjHome.Top.load()",60000);window.setInterval("JrjHome.Top.hkload()",60000)}};JrjHome.Top.load=function(){if(AguTop.open||AguTop.cache){data_post(AguTop.url,JrjHome.Top.update)}};JrjHome.Top.listen=function(){if(JRJ.date.compare(open_time,close_time)){AguTop.open=true}else{AguTop.open=false}if(JRJ.date.compare(open_time,cache_time)){AguTop.cache=true}else{AguTop.cache=false}$("clienttime").innerHTML=JRJ.date.format(new Date(),"yyyy\u5e74MM\u6708dd\u65e5 w hh:mm");window.setTimeout("JrjHome.Top.listen()",1000)};JrjHome.Top.update=function(){try{var line;var data;var s_url,m_url,f_url,d_url;var t2;if(AguTop.id=="c_t5_1"||AguTop.id=="c_t5_2"){data=eval("hqa");AguTop.hqArray=data.HqData;AguTop.columns=data.Column}if(AguTop.id=="c_t5_3"){data=eval("bigHqData");AguTop.hqArray=data.StockHq}if(AguTop.id=="c_t5_4"){data=eval("radar");AguTop.hqArray=data.StockHq}if(AguTop.hqArray.length>=5){if(AguTop.id=="c_t5_1"||AguTop.id=="c_t5_2"){t2=new StringBuffer();t2.append('<table class="tb1"><tr><th class=tw1>\u80a1\u7968\u540d\u79f0</th><th class=tw2>\u6700\u65b0\u4ef7</th><th class=tw3>\u6da8\u5e45</th><th class=tw4>');if(open||cache){t2.append("\u8be6\u7ec6")}else{t2.append("\u8d44\u91d1")}t2.append("</th></tr>");for(var i=0;i<AguTop.hqArray.length;i++){line=AguTop.hqArray[i];var css_tr=(i%2==1)?"ln":"";var pl=line[AguTop.columns.pl];var css_td=(pl>0)?"red":((pl<0)?"gre":"");var css_img="";s_url=AguTop.stockInfoUrl.replace("${code}",line[AguTop.columns.code]);m_url=AguTop.mingxiUrl.replace("${code}",line[AguTop.columns.code]);f_url=AguTop.flowUrl.replace("${code}",line[AguTop.columns.code]);if(open||cache){css_img="i6";d_url=m_url}else{css_img="i7";d_url=f_url}if(i%2==1){t2.append("<tr class=ln>")}else{t2.append("<tr>")}t2.append("<td class=tc><a href="+s_url+">"+line[AguTop.columns.name]+"</a></td>");t2.append('<td class="tr '+css_td+'">'+line[AguTop.columns.np]+"</td>");t2.append('<td class="tr '+css_td+'">'+line[AguTop.columns.pl]+"%</td>");t2.append('<td class="tc"><a href='+d_url+" class="+css_img+' title="\u8be6\u7ec6">\u8be6\u7ec6</a></td>');t2.append("</tr>")}}if(AguTop.id=="c_t5_3"){t2=new StringBuffer();t2.append('<table class="tb1"><tr><th class=tw1>\u80a1\u7968\u540d\u79f0</th><th class=tw2>\u7c7b\u578b</th><th class=tw3>\u65f6\u95f4</th><th class=tw4>\u8be6\u7ec6</th></tr>');for(var i=0;i<AguTop.hqArray.length,i<5;i++){line=AguTop.hqArray[i];var kind=(line.A6==1)?"\u4e70\u76d8":((line.A6==-1)?"\u5356\u76d8":"\u64ae\u5408");var css_img=(line.A6==1)?"red":((line.A6==-1)?"gre":"red");if(i%2==1){t2.append('<tr class="ln">')}else{t2.append("<tr>")}t2.append('<td class="tc"><a href="http://stock.jrj.com.cn/share,'+line.A3+'.shtml">'+line.A1+"</a></td>");t2.append('<td class="tc '+css_img+'">'+kind+"</td>");t2.append('<td class="tc">'+JRJ.date.format(new Date(line.A4.replace(/-/g,"/")),"hh:mm")+"</td>");t2.append('<td class="tc"><a href="http://stock.jrj.com.cn/share,'+line.A3+',dadan.shtml" title="\u8be6\u7ec6">\u8be6\u7ec6</a></td>');t2.append("</tr>")}}if(AguTop.id=="c_t5_4"){t2=new StringBuffer();t2.append('<table class="tb1"><tr><th class=tw1>\u80a1\u7968\u540d\u79f0</th><th class=tw2>\u7c7b\u578b</th><th class=tw3>\u6da8\u8dcc\u5e45</th><th class=tw4>\u65f6\u95f4</th></tr>');for(var i=0;i<AguTop.hqArray.length,i<5;i++){line=AguTop.hqArray[i];var kind=JrjHome.Top.radarType(line.model);var css_td=(line.pl>=0)?"red":"gre";if(i%2==1){t2.append('<tr class="ln">')}else{t2.append("<tr>")}t2.append('<td class="tc"><a href="http://stock.jrj.com.cn/share,'+line.code+'.shtml">'+line.name+"</a></td>");t2.append('<td class="tc"><a href="http://summary.jrj.com.cn/radar.shtml?type='+line.model+'">'+kind+"</a></td>");t2.append('<td class="tc '+css_td+'">'+line.pl+"%</td>");t2.append('<td class="tc">'+line.time+"</td>");t2.append("</tr>")}}t2.append("</table>");fill(AguTop.id,t2.toString())}}catch(e){}};JrjHome.Top.radarType=function(model){switch(model){case 1:return"\u5927\u5e45\u653e\u91cf";break;case 2:return"\u5de8\u989d\u4e70\u5165";break;case 3:return"\u5de8\u989d\u5356\u51fa";break;case 4:return"\u5de8\u989d\u6210\u4ea4";break;case 5:return"\u5927\u5355\u4e70\u5165";break;case 6:return"\u5927\u5355\u5356\u51fa";break;case 7:return"\u5927\u5355\u6210\u4ea4";break;case 8:return"\u5c01\u6da8\u505c\u677f";break;case 9:return"\u5c01\u8dcc\u505c\u677f";break;case 10:return"\u6da8\u505c\u6253\u5f00";break;case 11:return"\u8dcc\u505c\u6253\u5f00";break;case 12:return"\u706b\u7bad\u53d1\u5c04";break;case 12:return"\u9ad8\u53f0\u8df3\u6c34";break;default:return"\u5927\u5e45\u653e\u91cf"}};JrjHome.Top.cg=function(obj){switch(obj.id){case"t51":AguTop.url=sh_top5;AguTop.id="c_t5_1";break;case"t52":AguTop.url=sz_top5;AguTop.id="c_t5_2";break;case"t53":AguTop.url=big_top5;AguTop.id="c_t5_3";break;case"t54":AguTop.url=radar_top5;AguTop.id="c_t5_4";break}};var fill=function(id,content){var c=$(id);if(c){c.innerHTML="";c.innerHTML=content}};var ah_up="http://hk.hqquery.jrj.com.cn/hkhq.do?q=hk|ah&c=m&p=1005&o=hk_pl,d&n=ah_stock&d=";var ah_down="http://hk.hqquery.jrj.com.cn/hkhq.do?q=hk|ah&c=m&p=1005&o=hk_pl,a&n=ah_stock&d=";var HguTop={url:ah_up,id:"c_t6_1",open:true,cache:true,hqArray:null,columns:null,stockInfoUrl:"http://hk.jrj.com.cn/bmp/${code}/"};JrjHome.Top.hkcg=function(obj){switch(obj.id){case"t61":HguTop.url=ah_up;HguTop.id="c_t6_1";break;case"t62":HguTop.url=ah_down;HguTop.id="c_t6_2";break}};JrjHome.Top.hkload=function(){if(AguTop.open||AguTop.cache){data_post(HguTop.url,JrjHome.Top.hkupdate)}};JrjHome.Top.hkupdate=function(){try{var line;var data;var s_url;var t2;data=eval("ah_stock");HguTop.hqArray=data.HqData;HguTop.columns=data.Column;if(HguTop.hqArray.length>=5){t2=new StringBuffer();t2.append('<table class="tb1"><tr><th class=tw1>\u80a1\u7968\u540d\u79f0</th><th class=tw2>\u6700\u65b0\u4ef7</th><th class=tw3>\u6da8\u5e45</th><th class=tw4>\u6210\u4ea4\u91cf</th></tr>');for(var i=0;i<HguTop.hqArray.length;i++){line=HguTop.hqArray[i];var css_tr=(i%2==1)?"ln":"";var pl=line[HguTop.columns.hk_pl];var css_td=(pl>0)?"gre":((pl<0)?"red":"gre");var css_img="";s_url=HguTop.stockInfoUrl.replace("${code}",line[HguTop.columns.hk_code]);if(i%2==1){t2.append("<tr class=ln>")}else{t2.append("<tr>")}t2.append('<td class="tc"><a href="http://hk.jrj.com.cn/bmp/'+line[HguTop.columns.hk_code]+'/">'+line[HguTop.columns.name].subStringByCase(8)+"</a></td>");t2.append('<td class="tr '+css_td+'">'+line[HguTop.columns.hk_np]+"</td>");t2.append('<td class="tr '+css_td+'">'+line[HguTop.columns.hk_pl]+"%</td>");t2.append('<td class="tr '+css_td+'">'+line[HguTop.columns.hk_ta]+"\u80a1</td>");t2.append("</tr>")}t2.append("</table>");fill(HguTop.id,t2.toString())}}catch(e){}};var sso_domain="jrj.com";if(location.href.indexOf("jrj.com.cn")>-1){sso_domain="jrj.com.cn"}var sso_login_url="http://sso.jrj.com.cn/sso/json/userSession.jsp";var sso_isLogin_url="http://sso.jrj.com.cn/sso/json/userInfo.jsp";var sso_loginAgain_url="http://sso.jrj.com.cn/sso/json/UGC.jsp";var HOME_LOGIN_ID="home_login";JrjHome.SSO.login=function(){if($("LoginID").value==""){alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a");return false}if($("Passwd").value==""){alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a");return false}var lg_json="LoginID="+$("LoginID").value+"&Passwd="+MD5($("Passwd").value.toLowerCase());try{data_post(sso_login_url+"?"+lg_json,function(){if(userJson.state&&userJson.state=="1"){alert("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");return false}JrjHome.SSO.isAfterLogin()})}catch(e){}};JrjHome.SSO.logout=function(){try{data_post(sso_login_url+"?revoke=true",function(){if(userJson.state&&userJson.state=="0"){JrjHome.SSO.isAfterLogin()}})}catch(e){}};JrjHome.SSO.init=function(){data_post(sso_isLogin_url,JrjHome.SSO.isLogin);addEvent($("login_ok"),"click",JrjHome.SSO.login);addEvent($("logout_ok"),"click",JrjHome.SSO.logout);addEvent($("Passwd"),"keydown",function(event){var key=window.event?event.keyCode:event.which;if(key==13){JrjHome.SSO.login()}})};JrjHome.SSO.isAfterLogin=function(){if(userJson.userName==""||typeof(userJson.userName)=="undefined"){$("home_lg").style.display="";$("home_lgt").style.display="none"}else{$("LoginID").value="";$("Passwd").value="";$("home_lgt").style.display="";$("home_lg").style.display="none";var lg_htm="<a href=http://i.jrj.com.cn/dispatchSpaceManage.jsp?uid="+userJson.sso_userID+">"+userJson.userName;lg_htm+="</a> | <a href=http://i.jrj.com.cn/dispatchSpaceManage.jsp?uid="+userJson.sso_userID+">\u6211\u7684\u91d1\u878d\u754c</a> ";$("lgt").innerHTML=lg_htm}};JrjHome.SSO.isLogin=function(){try{if(userName==""||typeof(userName)=="undefined"){$("home_lg").style.display="";$("home_lgt").style.display="none"}else{$("home_lgt").style.display="";$("home_lg").style.display="none";var lg_htm="<a href=http://i.jrj.com.cn/dispatchSpaceManage.jsp?uid="+sso_userID+">"+userName;lg_htm+="</a>&nbsp;|&nbsp;<a href=http://i.jrj.com.cn/dispatchSpaceManage.jsp?uid="+sso_userID+">\u6211\u7684\u91d1\u878d\u754c</a>";$("lgt").innerHTML=lg_htm}}catch(e){}};JrjHome.SSO.LoginAgain=function(url){if($(HOME_LOGIN_ID)==null){myIframe=document.createElement("iframe");myIframe.id=HOME_LOGIN_ID;myIframe.width=0;myIframe.height=0;myIframe.style.display="none";document.body.appendChild(myIframe)}$(HOME_LOGIN_ID).src=url;if(navigator.userAgent.indexOf("Safari")>0&&location.href.indexOf("jrj.com.cn")<0){data_post(sso_isLogin_url,function(){var safari_msg='\u60a8\u7684\u6d4f\u89c8\u5668\u7981\u6b62\u63a5\u53d7Cookie\r\n \u4e3a\u4e86\u60a8\u6b63\u5e38\u4f7f\u7528\r\n \u8bf7\u5728\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e2d\u9009\u4e0a"\u603b\u662f\u63a5\u53d7Cookie"';alert(safari_msg)})}};var data_post=function(url,callback,scriptId){var d=new Date();if(url.indexOf("?")==-1){url+="?"}var outurl=url+"&_="+d.getTime();var script=document.createElement("script");script.id=scriptId;script.setAttribute("type","text/javascript");var head=document.getElementsByTagName("head")[0];if(document.all){script.onreadystatechange=function(){if(this.readyState==4||this.readyState=="complete"||this.readyState=="loaded"){script.onreadystatechange=null;callback();head.removeChild(script)}}}else{script.onload=function(){script.onload=null;callback();head.removeChild(script)}}script.setAttribute("src",outurl);head.insertBefore(script,head.firstChild)};var defCongfig={codeId:"app_askStock_code",mobileId:"app_askStock_mobile",okId:"app_askStock_ok",postUrl:"http://aps.jrj.com.cn/Json/join.aspx",codePrompt:"\u80a1\u7968\u4ee3\u7801",mobilePrompt:"\u624b\u673a\u53f7\u7801"};JRJ.app.askStock=function(actionId,config){this.actionId=actionId;this.config=applyIf(config||{},defCongfig);this.codeInput=$(this.config.codeId);this.mobileInput=$(this.config.mobileId);this.okButton=$(this.config.okId);this.init()};JRJ.app.askStock.prototype={init:function(){var instance=this;addEvent(instance.codeInput,"focus",function(){if(trim(instance.codeInput.value)==instance.config.codePrompt){instance.codeInput.value=""}});addEvent(instance.codeInput,"blur",function(){if(trim(instance.codeInput.value)==""){instance.codeInput.value=instance.config.codePrompt}});addEvent(instance.mobileInput,"focus",function(){if(trim(instance.mobileInput.value)==instance.config.mobilePrompt){instance.mobileInput.value=""}});addEvent(instance.mobileInput,"blur",function(){if(trim(instance.mobileInput.value)==""){instance.mobileInput.value=instance.config.mobilePrompt}});addEvent(instance.mobileInput,"keydown",function(event){var key=window.event?event.keyCode:event.which;if(key==13){instance.okButton.focus()}});addEvent(instance.okButton,"click",function(){var code=instance.codeInput.value;var mobile=instance.mobileInput.value;var mobileRES=/^((1[3,5,8][0-9]{1})+\d{8})$/;var stockcodeRES=/^(((002|000|300|600)[\d]{3})|60[\d]{4})$/;if(!stockcodeRES.test(code)){alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u80a1\u7968\u4ee3\u7801");instance.codeInput.focus();instance.codeInput.select();return false}if(!mobileRES.test(mobile)){alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u683c\u5f0f");instance.mobileInput.focus();instance.mobileInput.select();return false}var json='[{"actionid":"'+instance.actionId+'","stockcode1":"'+code+'","mobile":"'+mobile+'"}]';post(instance.config.postUrl+"?json="+json,"JRJ.app.askStock.callback")})}};JRJ.app.askStock.callback=function(obj){if(obj&&obj.result){alert("\u60a8\u63d0\u4ea4\u6210\u529f\uff0c\u91d1\u878d\u754c\u6570\u636e\u4ea7\u54c1\u987e\u95ee\u4f1a\u901a\u8fc7\u4e13\u7ebf010-58325188\u5c3d\u5feb\u8054\u7cfb\u60a8\uff01")}};var trim=function(str){return str.replace(/(^\s*)|(\s*$)/g,"")};var post=function(src,callback,charset){var script=document.createElement("script");script.setAttribute("type","text/javascript");if(charset){script.setAttribute("charset",charset)}var ourl=src+"&callback="+callback;var d=new Date();ourl=ourl+"&_="+d.getTime();script.setAttribute("src",ourl);var head=document.getElementsByTagName("head")[0];if(document.all){script.onreadystatechange=function(){if(this.readyState==4||this.readyState=="complete"||this.readyState=="loaded"){script.onreadystatechange=null;head.removeChild(script)}}}else{script.onload=function(){script.onload=null;head.removeChild(script)}}head.insertBefore(script,head.firstChild)};var addEvent=function(ele,evt,fcn){if(ele.attachEvent){ele.attachEvent("on"+evt,function(event){fcn(event)})}else{if(ele.addEventListener){ele.addEventListener(evt,fcn,false)}}return[ele,evt,fcn]};var applyIf=function(obj,config){if(obj&&config&&typeof config=="object"){for(var p in config){if(!obj.hasOwnProperty(p)){obj[p]=config[p]}}}return obj};JRJ.date={format:function(d,format){var str=format;var Week=["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"];var month=d.getMonth()+1;str=str.replace(/yyyy/,d.getFullYear());str=str.replace(/yy/,(d.getYear()%100)>9?(d.getYear()%100).toString():"0"+(d.getYear()%100));str=str.replace(/MM/,month>9?month.toString():"0"+month);str=str.replace(/M/g,month);str=str.replace(/dd/,d.getDate()>9?d.getDate().toString():"0"+d.getDate());str=str.replace(/d/g,d.getDate());str=str.replace(/w/g,Week[d.getDay()]);str=str.replace(/hh/,d.getHours()>9?d.getHours().toString():"0"+d.getHours());str=str.replace(/h/g,d.getHours());str=str.replace(/mm/,d.getMinutes()>9?d.getMinutes().toString():"0"+d.getMinutes());str=str.replace(/m/g,d.getMinutes());str=str.replace(/ss/,d.getSeconds()>9?d.getSeconds().toString():"0"+d.getSeconds());str=str.replace(/s/g,d.getSeconds());return str},compare:function(start_time,end_time){var now=new Date();var start=new Date(this.format(new Date(),"MM/dd/yyyy")+" "+start_time);var end=new Date(this.format(new Date(),"MM/dd/yyyy")+" "+end_time);if(now>start&&now<end){return true}else{return false}}}})();JRJ.dom={$:function(A){return document.getElementById(A)},hasClass:function(B,A){return B.className.match(new RegExp("(\\s|^)"+A+"(\\s|$)"))},addClass:function(B,A){if(!this.hasClass(B,A)){B.className+=" "+A}},removeClass:function(C,A){if(this.hasClass(C,A)){var B=new RegExp("(\\s|^)"+A+"(\\s|$)");C.className=C.className.replace(B," ")}},getOffsetPosition:function(C){if(!C){return{left:0,top:0}}var H=0,B=0;if("getBoundingClientRect" in document.documentElement){var E=C.getBoundingClientRect(),I=C.ownerDocument,F=I.body,A=I.documentElement,D=A.clientTop||F.clientTop||0,G=A.clientLeft||F.clientLeft||0,H=E.top+(self.pageYOffset||A&&A.scrollTop||F.scrollTop)-D,B=E.left+(self.pageXOffset||A&&A.scrollLeft||F.scrollLeft)-G}else{do{H+=C.offsetTop||0;B+=C.offsetLeft||0;C=C.offsetParent}while(C)}return{left:B,top:H}},pageHeight:function(){var C=document.documentElement;var B=C.clientHeight;var A=(C&&C.scrollHeight)||document.body.scrollHeight;return(B>A?B:A)},pageWidth:function(){var A=document.documentElement;return(A&&A.scrollWidth)||document.body.scrollWidth},windowHeight:function(){var A=document.documentElement;return self.innerWidth||A&&A.clientWidth||document.body.clientWidth},windowWidth:function(){var A=document.documentElement;return self.innerHeight||A&&A.clientHeight||document.body.clientHeight},scrollX:function(){var A=document.documentElement;return(A&&A.scrollLeft)||document.body.scrollLeft},scrollY:function(){var A=document.documentElement;return(A&&A.scrollTop)||document.body.scrollTop}};JRJ.bom={addBookmark:function(B,A){try{window.sidebar.addPanel(A,B,"")}catch(C){try{window.external.AddFavorite(B,A)}catch(C){alert("\u52a0\u5165\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528Ctrl+D\u8fdb\u884c\u6dfb\u52a0")}}},setHomePage:function(B){try{document.body.style.behavior="url(#default#homepage)";document.body.setHomePage(B)}catch(C){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var A=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);A.setCharPref("browser.startup.homepage",B)}catch(C){alert("\u8bf7\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165\u201cabout:config\u201d\u5e76\u56de\u8f66\uff0c\r\n\u7136\u540e\u5c06[signed.applets.codebase_principal_support]\u8bbe\u7f6e\u4e3a'true'\u3002")}}else{alert("\u62b1\u6b49\uff0c\u60a8\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u65e0\u6cd5\u5b8c\u6210\u64cd\u4f5c\u3002\r\n\u60a8\u9700\u8981\u624b\u52a8\u5c06'"+B+"'\u8bbe\u4e3a\u9996\u9875\u3002")}}},getCookie:function(B){var A=document.cookie.match("(?:^|;)\\s*"+B+"=([^;]*)");return A?unescape(A[1]):""},setCookie:function(B,D,A,F,C,E){document.cookie=B+"="+escape(D)+((A)?"; expires="+A.toGMTString():"")+((F)?"; path="+F:"")+((C)?"; domain="+C:"")+((E)?"; secure":"")},delCookie:function(A,C,B){if(this.getCookie(A)){document.cookie=A+"="+((C)?"; path="+C:"")+((B)?"; domain="+B:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}}};JRJ.util={$native:function(){for(var B=0,A=arguments.length;B<A;B++){arguments[B].extend=function(C){for(var D in C){if(!this.prototype[D]){this.prototype[D]=C[D]}if(!this[D]){this[D]=function(E){return function(F){return this.prototype[E].apply(F,Array.prototype.slice.call(arguments,1))}}}}}}},defined:function(A){return(A!=undefined)},isNumberStr:function(A){if(!A){return false}return !isNaN(A)},time:function(){return new Date().getTime()}};JRJ.util.type=function(B){var A=Object.prototype.toString,C={"undefined":"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return C[typeof B]||C[A.call(B)]||(B?"object":"null")};JRJ.util.$native(String);String.extend({trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},test:function(A,B){return((typeof A=="string")?new RegExp(A,B):A).test(this)},toInt:function(A){return parseInt(this,A||10)},toFloat:function(){return parseFloat(this)},contains:function(A){return this.indexOf(A)>-1},getBytesLength:function(){return this.replace(/[^\x00-\xff]/g,"xx").length},subStringByCase:function(A){var E=this;if(!E||!A){return""}var B=0;var D=0;var C="";for(D=0;D<E.length;D++){if(E.charCodeAt(D)>128){B+=2}else{B++}if(B>A){return C}C+=E.charAt(D)}return E}});JRJ.event={add:function(B,A,C){if(JRJ.util.defined(B.attachEvent)){B.attachEvent("on"+A,C)}else{if(JRJ.util.defined(B.addEventListener)){B.addEventListener(A,C,false)}}return[B,A,C]},remove:function(A){if(JRJ.util.defined(ele.detachEvent)){A[0].detachEvent("on"+A[1],A[2])}else{if(JRJ.util.defined(ele.removeEventListener)){A[0].removeEventListener(A[1],A[2],false)}}},bindAsEvent:function(A,C,B){return function(D){C.apply(A,[D||window.event].concat(B))}},getTarget:function(A){if(!A){return null}if(typeof(A.srcElement)!="undefined"){return A.srcElement}else{return A.target}},getKeyCode:function(A){return A.which||A.keyCode}};JrjHome.SearchBar={hq_sbox:null,curr_sbox:null,gb_sbox:null,gb_sbox2:null,init:function(){JRJ.event.add(JRJ.dom.$("st_hq"),"click",JrjHome.SearchBar.switchT);JRJ.event.add(JRJ.dom.$("st_info"),"click",JrjHome.SearchBar.switchT);JRJ.event.add(JRJ.dom.$("st_ba"),"click",JrjHome.SearchBar.switchT);this.goHq()},gb1:function(){this.gb_sbox2=new JRJ.ui.SearchBox("ipt_gb_2","btn_gb_2");this.gb_sbox2.patterns=[new JRJ.ui.Pattern("cn.i","http://istock.jrj.com.cn/list,dpzw.html"),new JRJ.ui.Pattern("cn.s","http://istock.jrj.com.cn/list,[code].html"),new JRJ.ui.Pattern("cn.f","http://[code].ifund.jrj.com.cn/forum[code].html"),new JRJ.ui.Pattern("cn.w","http://istock.jrj.com.cn/list,[code].html")];this.gb_sbox2.param="&item=10&type=cn_s,i,w,f";this.gb_sbox2.forceForm="formGb2"},switchT:function(A){var C=JRJ.event.getTarget(A).value;var B=JrjHome.SearchBar;if(B.curr_sbox){B.curr_sbox.remove()}switch(C){case"hq":B.goHq();break;case"guba":B.goGuba();break;case"info":B.goInfo();break}},goHq:function(){var A=[];A.push('<form id="formHq" onsubmit="return JrjHome.SearchBar.hq_sbox.checkSubmit();">');A.push("<select onchange=\"JrjHome.SearchBar.changeSubType('hq',this.value)\">");A.push('<option value="">\u5168\u90e8</option>');A.push('<option value="cn_bk,s,i,w">\u6caa\u6df1</option>');A.push('<option value="cn_f">\u57fa\u91d1</option>');A.push('<option value="hk">\u6e2f\u80a1</option>');A.push('<option value="us">\u7f8e\u80a1</option>');A.push("</select>");A.push('<input id="sub_nav_sbox" class="tx_info" value="\u4ee3\u7801/\u7b80\u79f0/\u62fc\u97f3" type="text"/>');A.push('<input id="btn_hq" class="bt1" value="\u884c\u60c5" type="button" />');A.push('<input type="hidden" name="url"/>');A.push('<input type="submit" style="width: 0px;height: 0px;padding: 0px;border: 0px;" id="formHq_submitBtn"/>');A.push("</form>");JRJ.dom.$("search_con").innerHTML=A.join("");this.hq_sbox=new JRJ.ui.SearchBox("sub_nav_sbox","btn_hq");this.hq_sbox.param="&item=10";this.hq_sbox.forceForm="formHq";this.curr_sbox=this.hq_sbox},goGuba:function(){var A=[];A.push('<form id="formGB" onsubmit="return JrjHome.SearchBar.gb_sbox.checkSubmit();">');A.push("<select onchange=\"JrjHome.SearchBar.changeSubType('guba',this.value)\">");A.push('<option value="cn_s,i,w,f|hk_s">\u5168\u90e8</option>');A.push('<option value="cn_s,i,w|hk_s">\u7231\u80a1</option>');A.push('<option value="cn_f">\u7231\u57fa</option>');A.push("</select>");A.push('<input id="ipt_gb" class="tx_info" value="\u4ee3\u7801/\u7b80\u79f0/\u62fc\u97f3" type="text"/>');A.push('<input id="btn_gb" class="bt1" value="\u8fdb\u5165\u5427" type="button" />');A.push('<input type="hidden" name="url"/>');A.push('<input type="submit" style="width: 0px;height: 0px;padding: 0px;border: 0px;" id="formGB_submitBtn"/>');A.push("</form>");JRJ.dom.$("search_con").innerHTML=A.join("");this.gb_sbox=new JRJ.ui.SearchBox("ipt_gb","btn_gb");this.gb_sbox.patterns=[new JRJ.ui.Pattern("cn.i","http://istock.jrj.com.cn/list,dpzw.html"),new JRJ.ui.Pattern("cn.s","http://istock.jrj.com.cn/list,[code].html"),new JRJ.ui.Pattern("cn.f","http://[code].ifund.jrj.com.cn/forum[code].html"),new JRJ.ui.Pattern("cn.w","http://istock.jrj.com.cn/list,[code].html"),new JRJ.ui.Pattern("hk.s","http://istock.jrj.com.cn/list,hk[code].html")];this.gb_sbox.param="&item=10&type=cn_s,i,w,f|hk_s";this.gb_sbox.forceForm="formGB";this.curr_sbox=this.gb_sbox},goInfo:function(){var A=[];A.push("<form id='formInfo' target='_blank' action='http://jinsoo.jrj.com.cn/search.jsp' method='post' onsubmit='return JrjHome.SearchBar.checkInfoSubmit();'>");A.push('<input id="ipt_info" name="q" class="tx_info" value="\u8bf7\u8f93\u5165\u5173\u952e\u8bcd" type="text"/>');A.push('<input id="btn_info" class="bt1" value="\u641c\u7d22" type="submit" />');A.push("</form>");JRJ.dom.$("search_con").innerHTML=A.join("");var B=JRJ.dom.$("ipt_info");B.onblur=function(){if(this.value==""){this.value="\u8bf7\u8f93\u5165\u5173\u952e\u8bcd";if(this.className=="tx_info tx_info_focus"){this.className="tx_info"}}};B.onfocus=function(){if(this.value=="\u8bf7\u8f93\u5165\u5173\u952e\u8bcd"){this.value=""}if(this.className=="tx_info"){this.className="tx_info tx_info_focus"}};this.curr_sbox=null},changeSubType:function(B,C){var A;if(B=="hq"){A=JrjHome.SearchBar.hq_sbox}else{if(B=="guba"){A=JrjHome.SearchBar.gb_sbox}}if(C){A.param="&item=10&type="+C}else{if(B=="guba"){A.param="&item=10&type=cn_s,i,w,f|hk_s"}else{A.param="&item=10"}}A.clear()},checkInfoSubmit:function(){try{var A=JRJ.dom.$("ipt_info");if(A.value=="\u8bf7\u8f93\u5165\u5173\u952e\u8bcd"||A.value==""){return false}return true}catch(B){return false}}};function StringBuffer(){this.__strings__=new Array}StringBuffer.prototype.append=function(A){this.__strings__.push(A)};StringBuffer.prototype.toString=function(){return this.__strings__.join("")};function MD5(E){function j(G,F){return(G<<F)|(G>>>(32-F))}function i(a,G){var c,F,I,b,H;I=(a&2147483648);b=(G&2147483648);c=(a&1073741824);F=(G&1073741824);H=(a&1073741823)+(G&1073741823);if(c&F){return(H^2147483648^I^b)}if(c|F){if(H&1073741824){return(H^3221225472^I^b)}else{return(H^1073741824^I^b)}}else{return(H^I^b)}}function R(F,H,G){return(F&H)|((~F)&G)}function Q(F,H,G){return(F&G)|(H&(~G))}function P(F,H,G){return(F^H^G)}function N(F,H,G){return(H^(F|(~G)))}function T(H,G,AA,z,F,I,k){H=i(H,i(i(R(G,AA,z),F),k));return i(j(H,I),G)}function B(H,G,AA,z,F,I,k){H=i(H,i(i(Q(G,AA,z),F),k));return i(j(H,I),G)}function g(H,G,AA,z,F,I,k){H=i(H,i(i(P(G,AA,z),F),k));return i(j(H,I),G)}function S(H,G,AA,z,F,I,k){H=i(H,i(i(N(G,AA,z),F),k));return i(j(H,I),G)}function A(c){var d;var I=c.length;var H=I+8;var G=(H-(H%64))/64;var b=(G+1)*16;var k=Array(b-1);var F=0;var a=0;while(a<I){d=(a-(a%4))/4;F=(a%4)*8;k[d]=(k[d]|(c.charCodeAt(a)<<F));a++}d=(a-(a%4))/4;F=(a%4)*8;k[d]=k[d]|(128<<F);k[b-2]=I<<3;k[b-1]=I>>>29;return k}function Z(H){var G="",I="",a,F;for(F=0;F<=3;F++){a=(H>>>(F*8))&255;I="0"+a.toString(16);G=G+I.substr(I.length-2,2)}return G}var f=Array();var o,D,h,U,C,y,w,v,u;var r=7,p=12,m=17,l=22;var Y=5,X=9,W=14,V=20;var O=4,M=11,L=16,K=23;var t=6,s=10,q=15,n=21;f=A(E);y=1732584193;w=4023233417;v=2562383102;u=271733878;for(o=0;o<f.length;o+=16){D=y;h=w;U=v;C=u;y=T(y,w,v,u,f[o+0],r,3614090360);u=T(u,y,w,v,f[o+1],p,3905402710);v=T(v,u,y,w,f[o+2],m,606105819);w=T(w,v,u,y,f[o+3],l,3250441966);y=T(y,w,v,u,f[o+4],r,4118548399);u=T(u,y,w,v,f[o+5],p,1200080426);v=T(v,u,y,w,f[o+6],m,2821735955);w=T(w,v,u,y,f[o+7],l,4249261313);y=T(y,w,v,u,f[o+8],r,1770035416);u=T(u,y,w,v,f[o+9],p,2336552879);v=T(v,u,y,w,f[o+10],m,4294925233);w=T(w,v,u,y,f[o+11],l,2304563134);y=T(y,w,v,u,f[o+12],r,1804603682);u=T(u,y,w,v,f[o+13],p,4254626195);v=T(v,u,y,w,f[o+14],m,2792965006);w=T(w,v,u,y,f[o+15],l,1236535329);y=B(y,w,v,u,f[o+1],Y,4129170786);u=B(u,y,w,v,f[o+6],X,3225465664);v=B(v,u,y,w,f[o+11],W,643717713);w=B(w,v,u,y,f[o+0],V,3921069994);y=B(y,w,v,u,f[o+5],Y,3593408605);u=B(u,y,w,v,f[o+10],X,38016083);v=B(v,u,y,w,f[o+15],W,3634488961);w=B(w,v,u,y,f[o+4],V,3889429448);y=B(y,w,v,u,f[o+9],Y,568446438);u=B(u,y,w,v,f[o+14],X,3275163606);v=B(v,u,y,w,f[o+3],W,4107603335);w=B(w,v,u,y,f[o+8],V,1163531501);y=B(y,w,v,u,f[o+13],Y,2850285829);u=B(u,y,w,v,f[o+2],X,4243563512);v=B(v,u,y,w,f[o+7],W,1735328473);w=B(w,v,u,y,f[o+12],V,2368359562);y=g(y,w,v,u,f[o+5],O,4294588738);u=g(u,y,w,v,f[o+8],M,2272392833);v=g(v,u,y,w,f[o+11],L,1839030562);w=g(w,v,u,y,f[o+14],K,4259657740);y=g(y,w,v,u,f[o+1],O,2763975236);u=g(u,y,w,v,f[o+4],M,1272893353);v=g(v,u,y,w,f[o+7],L,4139469664);w=g(w,v,u,y,f[o+10],K,3200236656);y=g(y,w,v,u,f[o+13],O,681279174);u=g(u,y,w,v,f[o+0],M,3936430074);v=g(v,u,y,w,f[o+3],L,3572445317);w=g(w,v,u,y,f[o+6],K,76029189);y=g(y,w,v,u,f[o+9],O,3654602809);u=g(u,y,w,v,f[o+12],M,3873151461);v=g(v,u,y,w,f[o+15],L,530742520);w=g(w,v,u,y,f[o+2],K,3299628645);y=S(y,w,v,u,f[o+0],t,4096336452);u=S(u,y,w,v,f[o+7],s,1126891415);v=S(v,u,y,w,f[o+14],q,2878612391);w=S(w,v,u,y,f[o+5],n,4237533241);y=S(y,w,v,u,f[o+12],t,1700485571);u=S(u,y,w,v,f[o+3],s,2399980690);v=S(v,u,y,w,f[o+10],q,4293915773);w=S(w,v,u,y,f[o+1],n,2240044497);y=S(y,w,v,u,f[o+8],t,1873313359);u=S(u,y,w,v,f[o+15],s,4264355552);v=S(v,u,y,w,f[o+6],q,2734768916);w=S(w,v,u,y,f[o+13],n,1309151649);y=S(y,w,v,u,f[o+4],t,4149444226);u=S(u,y,w,v,f[o+11],s,3174756917);v=S(v,u,y,w,f[o+2],q,718787259);w=S(w,v,u,y,f[o+9],n,3951481745);y=i(y,D);w=i(w,h);v=i(v,U);u=i(u,C)}var J=Z(y)+Z(w)+Z(v)+Z(u);return J.toUpperCase()}JrjHome.Rate=function(H){var G=/^(0|([1-9]\d*))(\.\d+)?$/;var F=6.825;var C=31.1035;if(H==0){var B=$("my0").value;if(!G.test(B)){alert("\u8f93\u5165\u6570\u5b57\u9519\u8bef");return false}var E=B*F;var D=E/C;var A=D.toFixed(2);$("rmb0").value=A}else{var B=$("rmb1").value;if(!G.test(B)){alert("\u8f93\u5165\u6570\u5b57\u9519\u8bef");return false}var E=B*C;var D=E/F;var A=D.toFixed(2);$("my1").value=A}};JrjHome.Number=function(B,C){try{return(B/C).toFixed(2)}catch(A){return B}};JrjHome.Money=function(A){if(A!=""){JrjHome.Open("http://money.jrj.com.cn/calc2010/cal.shtml?cal="+A)}};JrjHome.Meeting=function(C){try{for(var A=0;A<meetingList.length;A++){if(meetingList[A].name==C){JrjHome.Open(meetingList[A].url);return}}}catch(B){}};JrjHome.Open=function(A){if($(HOME_OPEN_ID)==null){myForm=document.createElement("form");document.body.appendChild(myForm);myForm.target="_blank";myForm.id=HOME_OPEN_ID}$(HOME_OPEN_ID).action=A;$(HOME_OPEN_ID).submit()};try{JrjHome.SSO.init()}catch(e){}try{JrjHome.Top.init()}catch(e){}try{JrjHome.SearchBar.init()}catch(e){}try{JrjHome.SearchBar.gb1()}catch(e){}try{new JRJ.app.askStock("JRJwengu_4")}catch(e){}try{new JRJ.app.askStock("JRJwengu_4",{codeId:"app_askStock_code1",mobileId:"app_askStock_mobile1",okId:"app_askStock_ok1",postUrl:"http://aps.jrj.com.cn/Json/join.aspx",codePrompt:"\u80a1\u7968\u4ee3\u7801",mobilePrompt:"\u624b\u673a\u53f7\u7801"})}catch(e){}try{JrjHome.AguHq.init();$("st_hq").checked=true}catch(e){}if($("ad_710_75_1")){$("ad_710_75_1").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|ban2&db=jrjafp&border=0&local=yes"}if($("ad_230_75_1")){$("ad_230_75_1").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|right_but4&db=jrjafp&border=0&local=yes"}if($("ad_710_75_2")){$("ad_710_75_2").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|ban3&db=jrjafp&border=0&local=yes"}if($("ad_710_75_3")){$("ad_710_75_3").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|ban4&db=jrjafp&border=0&local=yes"}if($("ad_230_75_3")){$("ad_230_75_3").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|right_but5&db=jrjafp&border=0&local=yes"}if($("ad_230_200_1")){$("ad_230_200_1").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|juxing&db=jrjafp&border=0&local=yes"}if($("ad_710_75_4")){$("ad_710_75_4").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|ban5&db=jrjafp&border=0&local=yes"}if($("ad_230_75_4")){$("ad_230_75_4").src="http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|right_but6&db=jrjafp&border=0&local=yes"}document.write("<script src='http://aps1.jrj.com.cn/adservice/apssh.jrj?cfo_aps_resource_code=jrj|home|yd&cfo_aps_js=ie'><\/script>");document.write("<script src='http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|fu_biao&db=jrjafp&border=0&local=yes&js=ie'><\/script>");document.write("<script src='http://allyes.jrj.com/main/s?user=JRJAFP|jrj_new|fu_biao2&db=jrjafp&border=0&local=yes&js=ie'><\/script>");function floatad(A){switch(A){case 1:FLOATAD_SHOW=true;$(FLOATAD_ID).style.display="";break;case 2:if(!FLOATAD_SHOW){$(FLOATAD_ID).style.display="none"}break;case 3:FLOATAD_SHOW=false;window.setTimeout("floatad(2)",2000);break}};
